<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
	<title>Payroll Management</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" />
	<link href="css/sb-admin.css" rel="stylesheet" />
	<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<link type="text/css" rel="stylesheet" href="css/base.css" />
</h:head>
<body>
	<div id="wrapper">
		<h:form id="settings">
			<ui:insert name="nav">
				<ui:include src="nav.xhtml">
					<ui:param name="page" value="settings" />
				</ui:include>
			</ui:insert>
			<div id="page-wrapper">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-12">
							<h1 class="page-header">
								<i class="fa fa-fw fa-user"></i>System Settings
							</h1>
						</div>
					</div>
					<p:messages closable="true" autoUpdate="true" />
					<p:tabView id="settingsTab">
						<p:tab id="tab1" title="Configure Lists">
							<p:growl id="messages1" showDetail="true" />

							<div class="row">
								<div class="col-lg-4">
									<p:outputPanel id="designationlist">
										<div class="panel panel-default">
											<div class="panel-body">
												<p:dataTable value="#{systemSettingsBean.systemSettings.designationsList}" var="d" id="desigtable"
													widgetVar="design" editable="true">
													<p:ajax event="rowEdit" listener="#{systemSettingsBean.onEditDesignation}"
														update="settings:settingsTab:messages1" />
													<p:ajax event="rowEditCancel" listener="#{systemSettingsBean.onCancelDesignation}"
														update="settings:settingsTab:messages1" />
													<f:facet name="header">Parent's Designation List</f:facet>
													<p:column headerText="Name">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText value="#{d}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText value="#{d}" style="width:100%" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Edit" style="width:50px">
														<p:rowEditor />
													</p:column>
												</p:dataTable>
											</div>
											<div class="panel-footer">
												<div class="form-group">
													<p:inputText styleClass="form-control" placeholder="Enter new designation name"
														value="#{systemSettingsBean.designationItem}" />
												</div>
												<p:commandButton icon="fa fa-plus" styleClass="btn btn-primary btn-xs" value="Add"
													action="#{systemSettingsBean.addDesignation}" update="settings:settingsTab:designationlist">
													<f:param name="type" value="parent" />
												</p:commandButton>
											</div>
										</div>
									</p:outputPanel>
								</div>
								<div class="col-lg-4">
									<p:outputPanel id="designationlistStaff">
										<div class="panel panel-default">
											<div class="panel-body">
												<p:dataTable value="#{systemSettingsBean.systemSettings.designationsListStaff}" id="stafftable" var="ds"
													widgetVar="designationStaff" editable="true">
													<p:ajax event="rowEdit" listener="#{systemSettingsBean.onEditDesignation}"
														update="settings:settingsTab:messages1" />
													<p:ajax event="rowEditCancel" listener="#{systemSettingsBean.onCancelDesignation}"
														update="settings:settingsTab:messages1" />
													<f:facet name="header">Staff's Designation List</f:facet>
													<p:column headerText="Name">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText value="#{ds}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText value="#{ds}" style="width:100%" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Edit" style="width:50px">
														<p:rowEditor />
													</p:column>
												</p:dataTable>
											</div>

											<div class="panel-footer">
												<div class="form-group">
													<p:inputText styleClass="form-control" placeholder="Enter new designation name"
														value="#{systemSettingsBean.designationItemStaff}" />
												</div>
												<p:commandButton icon="fa fa-plus" styleClass="btn btn-primary btn-xs" value="Add"
													action="#{systemSettingsBean.addDesignationStaff}" update="settings:settingsTab:designationlistStaff">
													<f:param name="type" value="staff" />
												</p:commandButton>
											</div>
										</div>
									</p:outputPanel>
								</div>
								<div class="col-lg-4">
									<p:outputPanel id="banknamesList">
										<div class="panel panel-default">
											<div class="panel-body">
												<p:dataTable value="#{systemSettingsBean.systemSettings.banknamesList}" id="banktable" var="bank"
													widgetVar="banknames" editable="true">
													<p:ajax event="rowEdit" listener="#{systemSettingsBean.onEditDesignation}"
														update="settings:settingsTab:messages1" />
													<p:ajax event="rowEditCancel" listener="#{systemSettingsBean.onCancelDesignation}"
														update="settings:settingsTab:messages1" />
													<f:facet name="header">Banks List</f:facet>
													<p:column headerText="Name">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText value="#{bank}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText value="#{bank}" style="width:100%" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Edit" style="width:50px">
														<p:rowEditor />
													</p:column>
												</p:dataTable>
											</div>

											<div class="panel-footer">
												<div class="form-group">
													<p:inputText styleClass="form-control" placeholder="Enter new bank name"
														value="#{systemSettingsBean.bankNameItem}" />
												</div>
												<p:commandButton icon="fa fa-plus" styleClass="btn btn-primary btn-xs" value="Add"
													action="#{systemSettingsBean.addBankNames}" update="settings:settingsTab:banknamesList">
													<f:param name="type" value="banks" />
												</p:commandButton>
											</div>
										</div>
									</p:outputPanel>
								</div>
								<div class="col-lg-4">
									<p:outputPanel id="sectionlist">
										<div class="panel panel-default">
											<div class="panel-body">
												<p:dataTable value="#{systemSettingsBean.systemSettings.sectionList}" id="sectiontable" var="sec"
													widgetVar="sectionnames" editable="true">
													<p:ajax event="rowEdit" listener="#{systemSettingsBean.onEditSection}"
														update="settings:settingsTab:messages1" />
													<p:ajax event="rowEditCancel" listener="#{systemSettingsBean.onCancelSection}"
														update="settings:settingsTab:messages1" />
													<f:facet name="header">Sections List</f:facet>
													<p:column headerText="Name">
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText value="#{sec}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText value="#{sec}" style="width:100%" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Edit" style="width:50px">
														<p:rowEditor />
													</p:column>
												</p:dataTable>
											</div>

											<div class="panel-footer">
												<div class="form-group">
													<p:inputText styleClass="form-control" placeholder="Enter new Section name"
														value="#{systemSettingsBean.sectionNameItem}" />
												</div>
												<p:commandButton icon="fa fa-plus" styleClass="btn btn-primary btn-xs" value="Add"
													action="#{systemSettingsBean.addSectionNames}" update="settings:settingsTab:sectionlist">
													<f:param name="type" value="section" />
												</p:commandButton>
											</div>
										</div>
									</p:outputPanel>
								</div>								
							</div>
						</p:tab>
						<p:tab id="tab2" title="Fee Amount Details">
							<p:growl id="messages2" showDetail="true" />
							<p:panel header="Class-wise Fee details">
								<div class="row">
									<div class="col-lg-12">
										<p:dataTable value="#{systemSettingsBean.systemSettings.feedetails}" id="feetable" var="d" widgetVar="fee"
											editable="true">
											<p:ajax event="rowEdit" listener="#{systemSettingsBean.onEditFeedetails}"
												update="settings:settingsTab:messages2" />
											<p:ajax event="rowEditCancel" listener="#{systemSettingsBean.onCancelFeedetails}"
												update="settings:settingsTab:messages2" />
											<p:column headerText="Class name">
												<h:outputText value="#{d.classname}" />
											</p:column>
											<p:column headerText="No. of terms">
												<p:cellEditor>
													<f:facet name="output">
														<h:outputText styleClass="pull-right" value="#{d.noofterms}">
														</h:outputText>
													</f:facet>
													<f:facet name="input">
														<h:selectOneMenu id="noofterms" value="#{d.noofterms}" style="width:100%;" editable="true"
															label="No. of terms" styleClass="form-control">
															<f:selectItem itemLabel="1" itemValue="1" />
															<f:selectItem itemLabel="2" itemValue="2" />
															<f:selectItem itemLabel="3" itemValue="3" />
															<f:selectItem itemLabel="4" itemValue="4" />
															<f:selectItem itemLabel="5" itemValue="5" />
															<f:selectItem itemLabel="6" itemValue="6" />
															<f:selectItem itemLabel="7" itemValue="7" />
															<f:selectItem itemLabel="8" itemValue="8" />
															<f:selectItem itemLabel="9" itemValue="9" />
															<f:selectItem itemLabel="10" itemValue="10" />
															<f:selectItem itemLabel="11" itemValue="11" />
															<f:selectItem itemLabel="12" itemValue="12" />
														</h:selectOneMenu>
													</f:facet>
												</p:cellEditor>

											</p:column>
											<p:column headerText="Term amount">
												<p:cellEditor>
													<f:facet name="output">
														<h:outputText styleClass="pull-right" value="#{d.termamount}">
															<f:convertNumber currencySymbol="&#8377;" type="currency" locale="en_IN" />
														</h:outputText>
													</f:facet>
													<f:facet name="input">
														<pe:inputNumber styleClass="form-controlpe" symbol="&#8377; " value="#{d.termamount}" label="term amount" />
													</f:facet>
												</p:cellEditor>
											</p:column>
											<p:column headerText="Total amount">
												<h:outputText styleClass="pull-right" style="font-weight:600;" value="#{d.totalamount}">
													<f:convertNumber currencySymbol="&#8377;" type="currency" locale="en_IN" />
												</h:outputText>
											</p:column>
											<p:column headerText="Edit" style="width:50px">
												<p:rowEditor />
											</p:column>
										</p:dataTable>
									</div>
								</div>
							</p:panel>
						</p:tab> 
						<p:tab id="tab3" title="Promotions">
							<p:growl id="promotionmessages" showDetail="true" />
							<ui:include src="promotions.xhtml" />

						</p:tab>
						<p:tab id="tab4" title="Other">
							<div class="row">
								<p:outputPanel rendered="#{!systemSettingsBean.disableemail}">
									<div class="col-lg-6">
										<p:panel>
											<f:facet name="header">
												<div class="pull-left">
													<h:outputText value="Outbound Email Preferences" />
												</div>
												<div class="pull-right hidden">
													<p:inputSwitch offLabel="No" onLabel="Yes" styleClass=""
														value="#{systemSettingsBean.systemSettings.disableemail}">
													</p:inputSwitch>
												</div>
											</f:facet>
											<div class="row">
												<div class="col-lg-6">
													<div class="form-group">
														<h:outputText value="Email Hostname *" />
														<p:inputText placeholder="smtp.gmail.com" styleClass="form-control" value="#{systemSettingsBean.systemSettings.emailhostname}"
															required="true" label="Email" />
													</div>
													<div class="form-group">
														<h:outputText value="SMTP Port *" />
														<p:inputText placeholder="465" styleClass="form-control" value="#{systemSettingsBean.systemSettings.smtpport}"
															required="true" label="Email" />
													</div>
													<div class="form-group">
														<h:outputText value="Email *" />
														<p:inputText placeholder="someone@gmail.com" styleClass="form-control" value="#{systemSettingsBean.systemSettings.email}" required="true"
															label="Email" />
													</div>
													<div class="form-group">
														<h:outputText value="Password *" />
														<p:password placeholder="your password" styleClass="form-control" value="#{systemSettingsBean.systemSettings.password}"
															required="true" redisplay="true" label="Password" />
													</div>
												</div>
											</div>
										</p:panel>
									</div>
								</p:outputPanel>
								<div class="col-lg-3">
									<p:panel header="Widget Preferences">
										<div class="row">
											<div class="col-lg-12">
												<div class="form-group">
													<h:outputText style="min-width:150px;display:inline-block" value=" Show Clock :" />

													<p:inputSwitch offLabel="No" onLabel="Yes" styleClass=""
														value="#{systemSettingsBean.systemSettings.showwidget1}" />
												</div>
												<div class="form-group">
													<h:outputText style="min-width:150px;display:inline-block" value="Show Calculator :" />

													<p:inputSwitch offLabel="No" onLabel="Yes" styleClass=""
														value="#{systemSettingsBean.systemSettings.showwidget2}" />
												</div>
											</div>
										</div>
									</p:panel>
								</div>
								<div class="row">
									<div class="col-lg-12">
										<div class="marginTop20">
											<p:commandButton styleClass="btn btn-primary" value="Save" actionListener="#{systemSettingsBean.save}"
												validateClient="true" update="@form" />

											<p:commandButton styleClass="btn btn-default marginLeft20" validateClient="false" type="button"
												value="Cancel" onclick="window.history.back()" />
										</div>
									</div>
								</div>
							</div>
						</p:tab>
					</p:tabView>
				</div>
			</div>
		</h:form>
	</div>
	<script src="js/bootstrap.min.js"></script>
</body>

</html>
